{"ast":null,"code":"import React,{Component}from'react';import Box from'@mui/material/Box';import Button from'@mui/material/Button';import Modal from'@mui/material/Modal';import{modalStyle,YAMLtoJSON}from\"./util\";/**\n *\n */import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";class CreateObject extends Component{constructor(props){super(props);this.handleChange=e=>{e.preventDefault();this.setState({objectConfigInput:e.currentTarget.value});};this.handleSubmit=e=>{e.preventDefault();// Convert to JSON\nthis.props.handleSendRequest(YAMLtoJSON(this.state.objectConfigInput),this.state.httpMethod);};this.handleModalOpen=()=>{this.setState({modalOpen:true});};this.handleModalClose=()=>{this.setState({modalOpen:false});};this.state={objectKind:this.props.objectKind,httpMethod:'POST',objectConfigInput:'',modalOpen:false};}render(){const modalElement=/*#__PURE__*/_jsxs(\"div\",{className:\"CreateObject\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Create a new \",this.state.objectKind]}),\"Put YAML Config Below:\",/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"textarea\",{rows:\"30\",cols:\"50\",onChange:this.handleChange,spellCheck:\"false\",defaultValue:this.state.objectConfigInput})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create\"})]})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"Create-Object\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",onClick:this.handleModalOpen,children:[\"Create a new \",this.state.objectKind]}),/*#__PURE__*/_jsx(Modal,{open:this.state.modalOpen,onClose:this.handleModalClose,\"aria-labelledby\":\"modal-modal-title\",\"aria-describedby\":\"modal-modal-description\",children:/*#__PURE__*/_jsx(Box,{sx:modalStyle,children:modalElement})})]});}}export default CreateObject;","map":{"version":3,"names":["React","Component","Box","Button","Modal","modalStyle","YAMLtoJSON","jsxs","_jsxs","jsx","_jsx","CreateObject","constructor","props","handleChange","e","preventDefault","setState","objectConfigInput","currentTarget","value","handleSubmit","handleSendRequest","state","httpMethod","handleModalOpen","modalOpen","handleModalClose","objectKind","render","modalElement","className","children","onSubmit","rows","cols","onChange","spellCheck","defaultValue","type","variant","onClick","open","onClose","sx"],"sources":["/Users/shoukaiwen/WebstormProjects/alluxio-k8s-operator-ui/src/util/CreateObject.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Modal from '@mui/material/Modal';\nimport {modalStyle, YAMLtoJSON} from \"./util\";\n\n/**\n *\n */\nclass CreateObject extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            objectKind: this.props.objectKind,\n\n            httpMethod: 'POST',\n            objectConfigInput: '',\n            modalOpen: false,\n        };\n    }\n\n    handleChange = (e) => {\n        e.preventDefault()\n        this.setState(\n            { objectConfigInput : e.currentTarget.value}\n        )\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        // Convert to JSON\n        this.props.handleSendRequest(YAMLtoJSON(this.state.objectConfigInput), this.state.httpMethod)\n    }\n\n    handleModalOpen = () => {\n        this.setState({modalOpen: true})\n    }\n    handleModalClose = () => {\n        this.setState({modalOpen: false})\n    }\n\n    render() {\n        const modalElement = (\n            <div className=\"CreateObject\">\n                <h2>Create a new {this.state.objectKind}</h2>\n                Put YAML Config Below:\n                <form onSubmit={this.handleSubmit}>\n                    <label>\n                        <textarea\n                            rows='30' cols='50' onChange={this.handleChange}\n                            spellCheck='false' defaultValue={this.state.objectConfigInput}\n                        />\n                    </label>\n                    <input type=\"submit\" value=\"Create\"/>\n                </form>\n            </div>\n        )\n\n        return (\n            <div className='Create-Object'>\n                <Button variant=\"outlined\" onClick={this.handleModalOpen}>\n                    Create a new {this.state.objectKind}\n                </Button>\n                <Modal\n                    open={this.state.modalOpen}\n                    onClose={this.handleModalClose}\n                    aria-labelledby=\"modal-modal-title\"\n                    aria-describedby=\"modal-modal-description\"\n                >\n                    <Box sx={modalStyle}>\n                        {modalElement}\n                    </Box>\n                </Modal>\n            </div>\n        )\n    }\n}\n\nexport default CreateObject\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}