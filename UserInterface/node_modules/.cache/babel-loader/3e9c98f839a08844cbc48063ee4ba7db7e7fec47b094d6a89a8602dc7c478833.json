{"ast":null,"code":"import React,{useState}from'react';import{Grid,Box,Button,Modal}from\"@mui/material\";import CloudUploadIcon from'@mui/icons-material/CloudUpload';import{modalStyle,DataType}from\"../../util/util\";import CodeEditor from'@uiw/react-textarea-code-editor';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const CreateObject=_ref=>{let{objectKind,handleSendRequest}=_ref;const[objectConfigInput,setObjectConfigInput]=useState('');const[modalOpen,setModalOpen]=useState(false);const httpMethod='POST';const handleSubmit=e=>{e.preventDefault();handleSendRequest(httpMethod,DataType.YAMLString,objectConfigInput);};const handleModalOpen=()=>{setModalOpen(true);};const handleModalClose=()=>{setModalOpen(false);};const handleFileUpload=event=>{const file=event.target.files[0];if(!file){return;}const reader=new FileReader();reader.onload=e=>{setObjectConfigInput(e.target.result);};reader.readAsText(file);};const modalElement=/*#__PURE__*/_jsx(\"div\",{className:\"CreateObject\",children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,lg:12,xs:12,children:/*#__PURE__*/_jsxs(Box,{sx:{height:'30px',fontSize:'24px',fontWeight:'bold',width:'100%'},children:[\"Create a new \",objectKind]})}),/*#__PURE__*/_jsx(Grid,{item:true,lg:7,xs:12,children:/*#__PURE__*/_jsx(Box,{sx:{height:'750px',width:'100%',overflow:'scroll'},children:/*#__PURE__*/_jsx(CodeEditor,{value:objectConfigInput,language:\"yaml\",placeholder:\"Enter or Upload YAML Style Configuration (.yaml/.yml).\",onChange:evn=>setObjectConfigInput(evn.target.value),padding:15,style:{fontSize:'16px',fontFamily:'ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace',minHeight:'100%'}})})}),/*#__PURE__*/_jsx(Grid,{item:true,lg:5,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,lg:12,xs:6,children:/*#__PURE__*/_jsx(Box,{sx:{height:'50px'},children:/*#__PURE__*/_jsxs(Button,{variant:\"contained\",size:\"large\",component:\"label\",startIcon:/*#__PURE__*/_jsx(CloudUploadIcon,{}),children:[\"Upload \",objectKind,\" Configuration File\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",hidden:true,onChange:handleFileUpload,accept:\".yaml,.yml\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,lg:6,xs:2,children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"large\",onClick:handleSubmit,children:\"Create\"})}),/*#__PURE__*/_jsx(Grid,{item:true,lg:6,xs:2,children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"large\",onClick:handleModalClose,children:\"Cancel\"})})]})})]})});return/*#__PURE__*/_jsxs(\"div\",{className:\"Create-Object\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",onClick:handleModalOpen,sx:{fontSize:'18px'},children:[\"Create a new \",objectKind]}),/*#__PURE__*/_jsx(Modal,{open:modalOpen,onClose:handleModalClose,\"aria-labelledby\":\"modal-modal-title\",\"aria-describedby\":\"modal-modal-description\",children:/*#__PURE__*/_jsx(Box,{sx:modalStyle,children:modalElement})})]});};export default CreateObject;","map":{"version":3,"names":["React","useState","Grid","Box","Button","Modal","CloudUploadIcon","modalStyle","DataType","CodeEditor","jsxs","_jsxs","jsx","_jsx","CreateObject","_ref","objectKind","handleSendRequest","objectConfigInput","setObjectConfigInput","modalOpen","setModalOpen","httpMethod","handleSubmit","e","preventDefault","YAMLString","handleModalOpen","handleModalClose","handleFileUpload","event","file","target","files","reader","FileReader","onload","result","readAsText","modalElement","className","children","container","spacing","item","lg","xs","sx","height","fontSize","fontWeight","width","overflow","value","language","placeholder","onChange","evn","padding","style","fontFamily","minHeight","variant","size","component","startIcon","type","hidden","accept","onClick","open","onClose"],"sources":["/Users/shoukaiwen/GolandProjects/Alluxio-Operator-K8S/UserInterface/src/components/manipulate/CreateObject.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Grid, Box, Button, Modal } from \"@mui/material\";\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport { modalStyle, DataType } from \"../../util/util\";\nimport CodeEditor from '@uiw/react-textarea-code-editor';\n\n\nconst CreateObject = ({   objectKind,\n                          handleSendRequest\n}) => {\n    const [objectConfigInput, setObjectConfigInput] = useState('');\n    const [modalOpen, setModalOpen] = useState(false);\n    const httpMethod = 'POST';\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        handleSendRequest(httpMethod, DataType.YAMLString, objectConfigInput);\n    };\n\n    const handleModalOpen = () => {\n        setModalOpen(true);\n    };\n\n    const handleModalClose = () => {\n        setModalOpen(false);\n    };\n\n    const handleFileUpload = (event) => {\n        const file = event.target.files[0];\n        if (!file) {\n            return;\n        }\n\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            setObjectConfigInput(e.target.result)\n        };\n        reader.readAsText(file);\n    };\n\n    const modalElement = (\n        <div className=\"CreateObject\">\n            <Grid container spacing={2}>\n                <Grid item lg={12} xs={12}>\n                    <Box sx={{\n                        height: '30px',\n                        fontSize: '24px',\n                        fontWeight: 'bold',\n                        width: '100%',}}>\n                        Create a new {objectKind}\n                    </Box>\n                </Grid>\n                <Grid item lg={7} xs={12}>\n                    <Box sx={{\n                        height: '750px',\n                        width: '100%',\n                        overflow: 'scroll'\n                    }}>\n                        <CodeEditor\n                            value={objectConfigInput}\n                            language=\"yaml\"\n                            placeholder=\"Enter or Upload YAML Style Configuration (.yaml/.yml).\"\n                            onChange={(evn) => setObjectConfigInput(evn.target.value)}\n                            padding={15}\n                            style={{\n                                fontSize: '16px',\n                                fontFamily: 'ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace',\n                                minHeight: '100%',\n                            }}\n                        />\n                    </Box>\n                </Grid>\n\n                <Grid item lg={5} xs={12}>\n                    <Grid container spacing={2}>\n                        <Grid item lg={12} xs={6}>\n                            <Box sx={{height: '50px'}}>\n                                <Button variant=\"contained\" size=\"large\"\n                                        component=\"label\"\n                                        startIcon={<CloudUploadIcon />}>\n                                    Upload {objectKind} Configuration File\n\n                                    <input type=\"file\" hidden\n                                           onChange={handleFileUpload} accept=\".yaml,.yml\"/>\n                                </Button>\n                            </Box>\n                        </Grid>\n\n                        <Grid item lg={6} xs={2}>\n                            <Button variant=\"outlined\" size=\"large\" onClick={handleSubmit}>\n                                Create\n                            </Button>\n                        </Grid>\n                        <Grid item lg={6} xs={2}>\n                            <Button variant=\"outlined\" size=\"large\" onClick={handleModalClose}>\n                                Cancel\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </Grid>\n\n            </Grid>\n        </div>\n    )\n\n    return (\n        <div className='Create-Object'>\n            <Button variant=\"outlined\" onClick={handleModalOpen} sx={{fontSize: '18px'}}>\n                Create a new {objectKind}\n            </Button>\n            <Modal\n                open={modalOpen}\n                onClose={handleModalClose}\n                aria-labelledby=\"modal-modal-title\"\n                aria-describedby=\"modal-modal-description\"\n            >\n                <Box sx={modalStyle}>\n                    {modalElement}\n                </Box>\n            </Modal>\n        </div>\n    )\n}\n\nexport default CreateObject\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,GAAG,CAAEC,MAAM,CAAEC,KAAK,KAAQ,eAAe,CACxD,MAAO,CAAAC,eAAe,KAAM,iCAAiC,CAC7D,OAASC,UAAU,CAAEC,QAAQ,KAAQ,iBAAiB,CACtD,MAAO,CAAAC,UAAU,KAAM,iCAAiC,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAGzD,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAEf,IAFgB,CAAIC,UAAU,CACVC,iBAC1B,CAAC,CAAAF,IAAA,CACG,KAAM,CAACG,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC9D,KAAM,CAACmB,SAAS,CAAEC,YAAY,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAAqB,UAAU,CAAG,MAAM,CAEzB,KAAM,CAAAC,YAAY,CAAIC,CAAC,EAAK,CACxBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBR,iBAAiB,CAACK,UAAU,CAAEd,QAAQ,CAACkB,UAAU,CAAER,iBAAiB,CAAC,CACzE,CAAC,CAED,KAAM,CAAAS,eAAe,CAAGA,CAAA,GAAM,CAC1BN,YAAY,CAAC,IAAI,CAAC,CACtB,CAAC,CAED,KAAM,CAAAO,gBAAgB,CAAGA,CAAA,GAAM,CAC3BP,YAAY,CAAC,KAAK,CAAC,CACvB,CAAC,CAED,KAAM,CAAAQ,gBAAgB,CAAIC,KAAK,EAAK,CAChC,KAAM,CAAAC,IAAI,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAClC,GAAI,CAACF,IAAI,CAAE,CACP,OACJ,CAEA,KAAM,CAAAG,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAIZ,CAAC,EAAK,CACnBL,oBAAoB,CAACK,CAAC,CAACQ,MAAM,CAACK,MAAM,CAAC,CACzC,CAAC,CACDH,MAAM,CAACI,UAAU,CAACP,IAAI,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAQ,YAAY,cACd1B,IAAA,QAAK2B,SAAS,CAAC,cAAc,CAAAC,QAAA,cACzB9B,KAAA,CAACT,IAAI,EAACwC,SAAS,MAACC,OAAO,CAAE,CAAE,CAAAF,QAAA,eACvB5B,IAAA,CAACX,IAAI,EAAC0C,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,EAAG,CAAAL,QAAA,cACtB9B,KAAA,CAACR,GAAG,EAAC4C,EAAE,CAAE,CACLC,MAAM,CAAE,MAAM,CACdC,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,MAAM,CAClBC,KAAK,CAAE,MAAO,CAAE,CAAAV,QAAA,EAAC,eACJ,CAACzB,UAAU,EACvB,CAAC,CACJ,CAAC,cACPH,IAAA,CAACX,IAAI,EAAC0C,IAAI,MAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,EAAG,CAAAL,QAAA,cACrB5B,IAAA,CAACV,GAAG,EAAC4C,EAAE,CAAE,CACLC,MAAM,CAAE,OAAO,CACfG,KAAK,CAAE,MAAM,CACbC,QAAQ,CAAE,QACd,CAAE,CAAAX,QAAA,cACE5B,IAAA,CAACJ,UAAU,EACP4C,KAAK,CAAEnC,iBAAkB,CACzBoC,QAAQ,CAAC,MAAM,CACfC,WAAW,CAAC,wDAAwD,CACpEC,QAAQ,CAAGC,GAAG,EAAKtC,oBAAoB,CAACsC,GAAG,CAACzB,MAAM,CAACqB,KAAK,CAAE,CAC1DK,OAAO,CAAE,EAAG,CACZC,KAAK,CAAE,CACHV,QAAQ,CAAE,MAAM,CAChBW,UAAU,CAAE,8EAA8E,CAC1FC,SAAS,CAAE,MACf,CAAE,CACL,CAAC,CACD,CAAC,CACJ,CAAC,cAEPhD,IAAA,CAACX,IAAI,EAAC0C,IAAI,MAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,EAAG,CAAAL,QAAA,cACrB9B,KAAA,CAACT,IAAI,EAACwC,SAAS,MAACC,OAAO,CAAE,CAAE,CAAAF,QAAA,eACvB5B,IAAA,CAACX,IAAI,EAAC0C,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAL,QAAA,cACrB5B,IAAA,CAACV,GAAG,EAAC4C,EAAE,CAAE,CAACC,MAAM,CAAE,MAAM,CAAE,CAAAP,QAAA,cACtB9B,KAAA,CAACP,MAAM,EAAC0D,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,OAAO,CAChCC,SAAS,CAAC,OAAO,CACjBC,SAAS,cAAEpD,IAAA,CAACP,eAAe,GAAE,CAAE,CAAAmC,QAAA,EAAC,SAC7B,CAACzB,UAAU,CAAC,qBAEnB,cAAAH,IAAA,UAAOqD,IAAI,CAAC,MAAM,CAACC,MAAM,MAClBX,QAAQ,CAAE3B,gBAAiB,CAACuC,MAAM,CAAC,YAAY,CAAC,CAAC,EACpD,CAAC,CACR,CAAC,CACJ,CAAC,cAEPvD,IAAA,CAACX,IAAI,EAAC0C,IAAI,MAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAAAL,QAAA,cACpB5B,IAAA,CAACT,MAAM,EAAC0D,OAAO,CAAC,UAAU,CAACC,IAAI,CAAC,OAAO,CAACM,OAAO,CAAE9C,YAAa,CAAAkB,QAAA,CAAC,QAE/D,CAAQ,CAAC,CACP,CAAC,cACP5B,IAAA,CAACX,IAAI,EAAC0C,IAAI,MAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAAAL,QAAA,cACpB5B,IAAA,CAACT,MAAM,EAAC0D,OAAO,CAAC,UAAU,CAACC,IAAI,CAAC,OAAO,CAACM,OAAO,CAAEzC,gBAAiB,CAAAa,QAAA,CAAC,QAEnE,CAAQ,CAAC,CACP,CAAC,EACL,CAAC,CACL,CAAC,EAEL,CAAC,CACN,CACR,CAED,mBACI9B,KAAA,QAAK6B,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC1B9B,KAAA,CAACP,MAAM,EAAC0D,OAAO,CAAC,UAAU,CAACO,OAAO,CAAE1C,eAAgB,CAACoB,EAAE,CAAE,CAACE,QAAQ,CAAE,MAAM,CAAE,CAAAR,QAAA,EAAC,eAC5D,CAACzB,UAAU,EACpB,CAAC,cACTH,IAAA,CAACR,KAAK,EACFiE,IAAI,CAAElD,SAAU,CAChBmD,OAAO,CAAE3C,gBAAiB,CAC1B,kBAAgB,mBAAmB,CACnC,mBAAiB,yBAAyB,CAAAa,QAAA,cAE1C5B,IAAA,CAACV,GAAG,EAAC4C,EAAE,CAAExC,UAAW,CAAAkC,QAAA,CACfF,YAAY,CACZ,CAAC,CACH,CAAC,EACP,CAAC,CAEd,CAAC,CAED,cAAe,CAAAzB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}