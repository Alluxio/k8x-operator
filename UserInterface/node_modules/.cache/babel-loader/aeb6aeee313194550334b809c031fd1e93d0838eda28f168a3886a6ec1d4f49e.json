{"ast":null,"code":"import React,{Component}from'react';import Box from'@mui/material/Box';import Button from'@mui/material/Button';import Modal from'@mui/material/Modal';import{YAMLtoJSON}from\"../util/util\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const style={position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',width:'75%',height:'80%',bgcolor:'background.paper',border:'1px solid #000',p:4};/**\n *\n */class CreateObject extends Component{constructor(props){super(props);this.handleChange=e=>{e.preventDefault();this.setState({objectConfigInput:e.currentTarget.value});};this.handleSubmit=e=>{e.preventDefault();// Convert to JSON\nthis.props.handleSendRequest(YAMLtoJSON(this.state.objectConfigInput),this.state.httpMethod);};this.handleModalOpen=()=>{this.setState({modalOpen:true});};this.handleModalClose=()=>{this.setState({modalOpen:false});};this.state={objectKind:this.props.objectKind,httpMethod:'POST',objectConfigInput:'',modalOpen:false};}render(){const modalElement=/*#__PURE__*/_jsxs(\"div\",{className:\"CreateObject\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Create a new \",this.state.objectKind]}),\"Put YAML Config Below:\",/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"textarea\",{rows:\"30\",cols:\"50\",onChange:this.handleChange,spellCheck:\"false\",defaultValue:this.state.objectConfigInput})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create\"})]})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"Create-Object\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",onClick:this.handleModalOpen,children:[\"Create a new \",this.state.objectKind]}),/*#__PURE__*/_jsx(Modal,{open:this.state.modalOpen,onClose:this.handleModalClose,\"aria-labelledby\":\"modal-modal-title\",\"aria-describedby\":\"modal-modal-description\",children:/*#__PURE__*/_jsx(Box,{sx:style,children:modalElement})})]});}}export default CreateObject;","map":{"version":3,"names":["React","Component","Box","Button","Modal","YAMLtoJSON","jsxs","_jsxs","jsx","_jsx","style","position","top","left","transform","width","height","bgcolor","border","p","CreateObject","constructor","props","handleChange","e","preventDefault","setState","objectConfigInput","currentTarget","value","handleSubmit","handleSendRequest","state","httpMethod","handleModalOpen","modalOpen","handleModalClose","objectKind","render","modalElement","className","children","onSubmit","rows","cols","onChange","spellCheck","defaultValue","type","variant","onClick","open","onClose","sx"],"sources":["/Users/shoukaiwen/WebstormProjects/alluxio-k8s-operator-ui/src/components/util/CreateObject.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Modal from '@mui/material/Modal';\nimport {YAMLtoJSON} from \"../util/util\";\n\nconst style = {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    width: '75%',\n    height: '80%',\n    bgcolor: 'background.paper',\n    border: '1px solid #000',\n    p: 4,\n};\n\n/**\n *\n */\nclass CreateObject extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            objectKind: this.props.objectKind,\n\n            httpMethod: 'POST',\n            objectConfigInput: '',\n            modalOpen: false,\n        };\n    }\n\n    handleChange = (e) => {\n        e.preventDefault()\n        this.setState(\n            { objectConfigInput : e.currentTarget.value}\n        )\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        // Convert to JSON\n        this.props.handleSendRequest(YAMLtoJSON(this.state.objectConfigInput), this.state.httpMethod)\n    }\n\n    handleModalOpen = () => {\n        this.setState({\n            modalOpen: true,\n        })\n    }\n    handleModalClose = () => {\n        this.setState({\n            modalOpen: false,\n        })\n    }\n\n    render() {\n        const modalElement = (\n            <div className=\"CreateObject\">\n                <h2>Create a new {this.state.objectKind}</h2>\n                Put YAML Config Below:\n                <form onSubmit={this.handleSubmit}>\n                    <label>\n                        <textarea\n                            rows='30' cols='50' onChange={this.handleChange}\n                            spellCheck='false' defaultValue={this.state.objectConfigInput}\n                        />\n                    </label>\n                    <input type=\"submit\" value=\"Create\"/>\n                </form>\n            </div>\n        )\n\n        return (\n            <div className='Create-Object'>\n                <Button variant=\"outlined\" onClick={this.handleModalOpen}>\n                    Create a new {this.state.objectKind}\n                </Button>\n                <Modal\n                    open={this.state.modalOpen}\n                    onClose={this.handleModalClose}\n                    aria-labelledby=\"modal-modal-title\"\n                    aria-describedby=\"modal-modal-description\"\n                >\n                    <Box sx={style}>\n                        {modalElement}\n                    </Box>\n                </Modal>\n            </div>\n        )\n    }\n}\n\nexport default CreateObject\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}